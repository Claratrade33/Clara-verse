<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Configurar APIs - ClaraVerse</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script>
    async function salvarChaves() {
      const openaiKey = document.getElementById('openaiKey').value;
      const binanceKey = document.getElementById('binanceKey').value;
      const binanceSecret = document.getElementById('binanceSecret').value;

      try {
        const r = await axios.post('/salvar_chaves', {
          openaiKey, binanceKey, binanceSecret
        });

        if (r.data.status === 'ok') {
          alert('🔐 Chaves salvas com sucesso!');
          window.location.href = '/painel';
        } else {
          alert('Erro ao salvar as chaves.');
        }
      } catch (err) {
        alert('Erro de conexão.');
      }
    }
  </script>
</head>
<body>
  <h2 style="color:#00ffff">🔐 Configurar APIs</h2>

  <label for="openaiKey">Chave da OpenAI:</label><br>
  <input type="password" id="openaiKey" placeholder="sk-..." /><br><br>

  <label for="binanceKey">API Key Binance:</label><br>
  <input type="text" id="binanceKey" /><br><br>

  <label for="binanceSecret">Secret Key Binance:</label><br>
  <input type="password" id="binanceSecret" /><br><br>

  <button onclick="salvarChaves()">💾 Salvar e Iniciar</button>
</body>
</html>